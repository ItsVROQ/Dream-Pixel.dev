# ========================================
# DATABASE CONFIGURATION
# ========================================
# PostgreSQL connection string - use Supabase or Neon for serverless
# Format: postgresql://user:password@host:port/database
DATABASE_URL="postgresql://USER:PASSWORD@HOST:5432/DATABASE"

# ========================================
# AUTHENTICATION & SECURITY
# ========================================
# NextAuth configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="replace-with-a-random-secret-min-32-chars"

# JWT Secret for additional token handling
JWT_SECRET="replace-with-another-random-secret-min-32-chars"

# OAuth Providers (Google, GitHub)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# ========================================
# EXTERNAL SERVICES
# ========================================
# Email Service (Resend) - https://resend.com
RESEND_API_KEY=""

# Payment Processing (Stripe)
STRIPE_SECRET_KEY=""
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=""
STRIPE_WEBHOOK_SECRET=""
STRIPE_PRICE_PRO_MONTHLY=""
STRIPE_PRICE_PRO_YEARLY=""

# AWS (Invoice PDF storage)
AWS_REGION=""
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_S3_INVOICE_BUCKET=""

# Error Tracking (Sentry) - https://sentry.io
SENTRY_DSN=""
SENTRY_AUTH_TOKEN=""
SENTRY_ORG="your-org"
SENTRY_PROJECT="dream-pixel"
NEXT_PUBLIC_SENTRY_DSN=""

# Analytics (PostHog or Mixpanel)
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST=""
# AI Provider API Keys
GEMINI_API_KEY=""
STABILITY_API_KEY=""
REPLICATE_API_KEY=""

# Default AI Provider
AI_PROVIDER="gemini"

# Inngest
INNGEST_EVENT_KEY=""
INNGEST_SIGNING_KEY=""

# Generation Settings
GENERATION_MAX_RETRIES=3
GENERATION_TIMEOUT_SECONDS=300
GENERATION_PROVIDER_TIMEOUT_SECONDS=60

# Rate Limiting - Generations
GENERATION_FREE_TIER_LIMIT=1
GENERATION_FREE_TIER_WINDOW=86400
GENERATION_PRO_TIER_LIMIT=100
GENERATION_PRO_TIER_WINDOW=86400
GENERATION_ENTERPRISE_TIER_LIMIT=1000
GENERATION_ENTERPRISE_TIER_WINDOW=86400
# Upstash Redis
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# ========================================
# STORAGE & CDN
# ========================================
# AWS S3 / Cloudflare R2 configuration
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
S3_BUCKET_NAME="dream-pixel-images"
# For Cloudflare R2, use format: https://<account-id>.r2.cloudflarestorage.com
S3_ENDPOINT=""
# CDN base URL for serving images (CloudFront, Cloudflare, or custom domain)
CDN_BASE_URL=""

# Cloudflare configuration for DDoS protection and caching
NEXT_PUBLIC_CLOUDFLARE_DOMAIN=""

# ========================================
# CACHING & SESSIONS
# ========================================
# Upstash Redis - serverless Redis for caching and rate limiting
# https://upstash.com
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# ========================================
# DATABASE & SUPABASE
# ========================================
# Supabase configuration (optional, alternative to standalone PostgreSQL)
NEXT_PUBLIC_SUPABASE_URL=""
NEXT_PUBLIC_SUPABASE_ANON_KEY=""

# ========================================
# IMAGE PROCESSING
# ========================================
# Image size and dimension limits
MAX_IMAGE_SIZE=20971520  # 20MB in bytes
MAX_IMAGE_DIMENSION=4096  # Maximum width/height in pixels

# Image quality settings
IMAGE_QUALITY=90          # Quality for full-size images (0-100)
THUMBNAIL_QUALITY=80      # Quality for thumbnails (0-100)

# Cache control headers TTL values
CACHE_TTL_GENERATION=31536000  # 1 year in seconds (for generated images)
CACHE_TTL_REFERENCE=86400      # 1 day in seconds (for user uploads)

# Duplicate detection using perceptual hashing
PERCEPTUAL_HASH_SIZE=16

# ========================================
# RATE LIMITING
# ========================================
# Rate limit configuration using Upstash
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100    # Max requests per window per IP

# ========================================
# ENVIRONMENT
# ========================================
# Node environment
NODE_ENV="production"

# Application environment (development, staging, production)
APP_ENV="production"

# ========================================
# DEPLOYMENT & MONITORING
# ========================================
# Vercel deployment configuration
VERCEL_ENV="production"
VERCEL_URL="https://dream-pixel.vercel.app"

# Enable debug mode for troubleshooting (false in production)
DEBUG_MODE="false"

# Log level: error, warn, info, debug
LOG_LEVEL="info"
